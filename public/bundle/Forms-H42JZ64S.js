import{c as g,e as D}from"./chunk-NTYBRVPL.js";import{a as k,c as F}from"./chunk-5VCMSLSJ.js";import{d as f,e as r,g as h,i as B,k as E,n as _,x as j}from"./chunk-C2W3HSDQ.js";import{m as S,n as o}from"./chunk-OMCZQBA2.js";import"./chunk-G76L5PL2.js";import"./chunk-FVQQD5TJ.js";import"./chunk-OFEJ2A6N.js";import{d as c,e as x,f as L}from"./chunk-2N2KBSVT.js";var q=c(x()),e=c(L());var $=()=>{let{module:d,init:T}=k(t=>t.redux),{openForms:v,pageType:m,detailContent:u}=d,p=F(),[y,b]=(0,e.useState)(!1),[i,l]=(0,e.useState)({}),[G,N]=(0,e.useState)({}),H=()=>{l({}),N({})};(0,e.useLayoutEffect)(()=>(m==="update"&&B(u)&&l({...u}),()=>{}),[m,u]);let C=()=>{p(g({...d,openForms:!1,pageType:"",detailContent:{}}))},I=t=>{t.preventDefault();let s={pageType:m,user_modified:r("username",T)};Object.keys(i).forEach(n=>s[n]=i[n]),b(!0);let w=_("/submit",s);w.then(n=>{if(typeof n>"u")return;let{data:a}=n;if(typeof a.code<"u"&&r("code",a)!==200){f(!1,r("message",a));return}N(a.errors),f(a.status,a.msg_response),a.status&&(H(),p(g({...d,openForms:!1,pageType:"",detailContent:{}})),p(D({url:"/getdata",data:{}})))}),w.finally(()=>{b(!1)})};return e.default.createElement(e.default.Fragment,null,v&&e.default.createElement("div",{className:"drawer-overlay"}),e.default.createElement("div",{className:`bg-white drawer drawer-start ${v?"drawer-on":""}`,style:{width:window.innerWidth/2}},e.default.createElement(o,{className:"rounded-0 w-100"},e.default.createElement(o.Header,{className:"pe-5"},e.default.createElement("div",{className:"card-title"},e.default.createElement("div",{className:"d-flex justify-content-center flex-column me-3"},e.default.createElement("span",{className:"fs-4 fw-bold text-gray-900 text-hover-primary me-1 lh-1"},"Example"))),e.default.createElement("div",{className:"card-toolbar"},e.default.createElement("button",{className:"btn btn-sm btn-icon btn-active-light-primary",onClick:C},e.default.createElement("i",{className:"ki-duotone ki-cross fs-2"},e.default.createElement("span",{className:"path1"}),e.default.createElement("span",{className:"path2"}))))),e.default.createElement(o.Body,{className:"hover-scroll-overlay-y"},E("Nama Jenis Septiktank","nama",{onChange:t=>l(s=>({...s,[t.target.name]:t.target.value})),value:r("nama",i)},!0,G),j("Keterangan","keterangan",{onChange:t=>l(s=>({...s,[t.target.name]:t.target.value})),value:r("keterangan",i),style:{height:100}})),e.default.createElement(o.Footer,{className:"text-end"},e.default.createElement(S,null,h(`Simpan ${document.title}`,y,{onClick:y?null:I}),h("Batal",!1,{variant:"danger",onClick:()=>C()}))))))},P=$;export{P as default};
