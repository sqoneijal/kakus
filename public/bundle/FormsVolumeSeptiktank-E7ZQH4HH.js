import{c as C}from"./chunk-NTYBRVPL.js";import{a as j,c as B}from"./chunk-5VCMSLSJ.js";import{c as I,d as h,e as n,g as b,i as L,k as p,n as V,s as J}from"./chunk-C2W3HSDQ.js";import{G as v,m as D,n as u,o as i}from"./chunk-OMCZQBA2.js";import"./chunk-G76L5PL2.js";import"./chunk-FVQQD5TJ.js";import"./chunk-OFEJ2A6N.js";import{d as k,e as F,f as O}from"./chunk-2N2KBSVT.js";var X=k(F()),e=k(O());var T=()=>{let{module:c,init:E}=j(t=>t.redux),{openFormsVolumeSeptiktank:f,detailContent:g}=c,y=B(),[N,S]=(0,e.useState)(!1),[P,z]=(0,e.useState)(!0),[r,l]=(0,e.useState)({}),[d,_]=(0,e.useState)({}),[G,H]=(0,e.useState)([]),K=()=>{let t=I("/initpenampungantinja");t.then(a=>{if(typeof a>"u")return;let{data:o}=a;if(typeof o.code<"u"&&n("code",o)!==200){h(!1,n("message",o));return}H(o.daftarJenisSeptiktank)}),t.finally(()=>{z(!1)})};(0,e.useLayoutEffect)(()=>(f&&L(g)&&K(),()=>{}),[f,g]);let x=()=>{l({}),_({})},w=()=>{x(),y(C({...c,openFormsVolumeSeptiktank:!1}))},M=t=>{t.preventDefault();let a={user_modified:n("username",E),id_responden:n("id",g)};Object.keys(r).forEach(m=>a[m]=r[m]),S(!0);let o=V("/submitvolumeseptiktank",a);o.then(m=>{if(typeof m>"u")return;let{data:s}=m;if(typeof s.code<"u"&&n("code",s)!==200){h(!1,n("message",s));return}_(s.errors),h(s.status,s.msg_response),s.status&&(x(),y(C({...c,...s.content,openFormsVolumeSeptiktank:!1})))}),o.finally(()=>{S(!1)})};return e.default.createElement(e.default.Fragment,null,f&&e.default.createElement("div",{className:"drawer-overlay",style:{zIndex:9999}}),e.default.createElement("div",{className:`bg-white drawer drawer-end ${f?"drawer-on":""}`,style:{width:window.innerWidth/2,zIndex:9999}},e.default.createElement(u,{className:"rounded-0 w-100"},e.default.createElement(u.Header,{className:"pe-5"},e.default.createElement("div",{className:"card-title"},e.default.createElement("div",{className:"d-flex justify-content-center flex-column me-3"},e.default.createElement("span",{className:"fs-4 fw-bold text-gray-900 text-hover-primary me-1 lh-1"},"Volume Septiktank"))),e.default.createElement("div",{className:"card-toolbar"},e.default.createElement("button",{className:"btn btn-sm btn-icon btn-active-light-primary",onClick:w},e.default.createElement("i",{className:"ki-duotone ki-cross fs-2"},e.default.createElement("span",{className:"path1"}),e.default.createElement("span",{className:"path2"}))))),e.default.createElement(u.Body,{className:"hover-scroll-overlay-y"},!P&&e.default.createElement(e.default.Fragment,null,e.default.createElement(v,null,e.default.createElement(i,null,J("Jenis Septiktank","id_jenis_septiktank",{onChange:t=>l(a=>({...a,[t.target.name]:t.target.value})),value:n("id_jenis_septiktank",r)},G.map(t=>({value:n("id",t),label:n("nama",t)})),!0,d)),e.default.createElement(i,null,p("Lebar","lebar",{onChange:t=>l(a=>({...a,[t.target.name]:t.target.value})),value:n("lebar",r)},!0,d)),e.default.createElement(i,null,p("Kedalaman","kedalaman",{onChange:t=>l(a=>({...a,[t.target.name]:t.target.value})),value:n("kedalaman",r)},!0,d))),e.default.createElement(v,null,e.default.createElement(i,null,p("Diameter Tabung","diameter_tabung",{onChange:t=>l(a=>({...a,[t.target.name]:t.target.value})),value:n("diameter_tabung",r)},!0,d)),e.default.createElement(i,null,p("Panjang","panjang",{onChange:t=>l(a=>({...a,[t.target.name]:t.target.value})),value:n("panjang",r)},!0,d)),e.default.createElement(i,null)))),e.default.createElement(u.Footer,{className:"text-end"},e.default.createElement(D,null,b("Simpan",N,{onClick:N?null:M}),b("Batal",!1,{variant:"danger",onClick:()=>w()}))))))},Q=T;export{Q as default};
