import{a as l}from"./chunk-MMFO6LXR.js";import{b as T,c as C}from"./chunk-NTYBRVPL.js";import{a as k,c as E}from"./chunk-5VCMSLSJ.js";import{d as N,e as a,g as b,i as W,k as w,n as B,w as P}from"./chunk-C2W3HSDQ.js";import{G as f,m as _,n as u,o}from"./chunk-OMCZQBA2.js";import"./chunk-G76L5PL2.js";import"./chunk-FVQQD5TJ.js";import"./chunk-OFEJ2A6N.js";import{d as c,e as y,f as L}from"./chunk-2N2KBSVT.js";var z=c(y()),e=c(L());var I=()=>{let{init:r,module:h}=k(s=>s.redux),{openForms:p}=h,d=E(),[j,x]=(0,e.useState)(!1),[m,g]=(0,e.useState)({}),[S,D]=(0,e.useState)({});(0,e.useLayoutEffect)(()=>(W(r)&&g({...r,old_email:a("email",r)}),()=>{}),[r]);let F=s=>{s.preventDefault();let n={user_modified:a("username",r)};Object.keys(m).forEach(i=>n[i]=m[i]),x(!0);let v=B("/submit",n);v.then(i=>{if(typeof i>"u")return;let{data:t}=i;if(typeof t.code<"u"&&a("code",t)!==200){N(!1,a("message",t));return}D(t.errors),N(t.status,t.msg_response),t.status&&(d(T({...r,...t.content})),d(C({...h,openForms:!1})))}),v.finally(()=>{x(!1)})};return e.default.createElement(u,{className:"mb-5 mb-xl-10"},e.default.createElement(u.Header,{className:"cursor-pointer"},e.default.createElement(u.Title,{className:"m-0"},e.default.createElement("h3",{className:"fw-bold m-0"},p?"Perbaharui Profil":"Detail Profil")),e.default.createElement(l,null,e.default.createElement(l.When,{isTrue:!p},b("Edit Profile",!1,{className:"align-self-center",onClick:()=>d(C({...h,openForms:!0}))})),e.default.createElement(l.When,{isTrue:p},e.default.createElement(_,null,b("Batal",!1,{variant:"danger",className:"align-self-center",onClick:()=>d(C({...h,openForms:!1}))}),b("Simpan",!1,{className:"align-self-center",onClick:j?null:F}))))),e.default.createElement(u.Body,{className:"p-9"},e.default.createElement(l,null,e.default.createElement(l.When,{isTrue:p},e.default.createElement(f,null,e.default.createElement(o,null,w("Nama Lengkap","nama",{onChange:s=>g(n=>({...n,[s.target.name]:s.target.value})),value:a("nama",m)},!0,S)),e.default.createElement(o,null,w("Email","email",{onChange:s=>g(n=>({...n,[s.target.name]:s.target.value})),value:a("email",m)},!0,S)),e.default.createElement(o,null,w("Username","username",{disabled:!0,value:a("username",m)}))),P("Password (Kosongkan saja jika tidak ingin mengganti dengan yang baru!)","password",{onChange:s=>g(n=>({...n,[s.target.name]:s.target.value})),value:a("password",m)})),e.default.createElement(l.Else,null,e.default.createElement(f,{className:"mb-7"},e.default.createElement(o,{lg:4,className:"fw-semibold text-muted"},"Nama Lengkap"),e.default.createElement(o,{lg:8},e.default.createElement("span",{className:"fw-bold fs-6 text-gray-800"},a("nama",r)))),e.default.createElement(f,{className:"mb-7"},e.default.createElement(o,{lg:4,className:"fw-semibold text-muted"},"Email"),e.default.createElement(o,{lg:8},e.default.createElement("span",{className:"fw-bold fs-6 text-gray-800"},a("email",r)))),e.default.createElement(f,{className:"mb-7"},e.default.createElement(o,{lg:4,className:"fw-semibold text-muted"},"Username"),e.default.createElement(o,{lg:8},e.default.createElement("span",{className:"fw-bold fs-6 text-gray-800"},a("username",r))))))))},M=I;export{M as default};
